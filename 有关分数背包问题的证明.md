### 定理

如果$$p_1/w_1 \geq p_2/w_2 \geq ... \geq p_n \geq w_n$$，则算法GreedyKnapsack对于给定的背包问题实例生成一个最优解。

### 证明

我们记 $$X=(x_1,x_2,...,x_n)$$ 为原问题的解按照单位价值率排序后的结果，也即物品1~n的单位价值率依次降低（为了方便后面讨论）

则有：$$0 \leq x_i \leq 1, i \in[1,n]$$

需要注意到，本问题中我们的贪心选择策略为：在容量允许的情况下，总是选择装入单位价值率最高的物品。

#### 1

首先证明总有一个最优解从贪心选择开始，即需要证明容量允许的情况下，$$x_1=1$$

我们记最优解A，其中$$X=(x_1,x_2,...,x_n)$$

（1）当$$x_1=1$$时，则A就是以贪心选择开始的最优解

（2）当 $$x_1 < 1$$ 时，那么我们不妨取 $$B=A-\{ (1-x_1)w_1*物品k \} \cup \{(1-x_1)w_1*物品1\}$$

​	也即从A中任意拿出一个物品，以腾出$$(1-x_1)w_1$$ 大小的空间，再放入未被装入的物品1，从而我们装入了所有的物品1。

​	那么由于物品1的单位价值率 $$\geq$$ 其余物品的单位价值率

​	并且B中其他物品和A中其他物品价值相同，因此B的总价值高于A的总价值

​	而这与A是最优解矛盾，因此必有$$x_1=1$$

综上所述，最优解A在容量满足的情况下总是有$$x_1=1$$

因此我们证明了总是有一个以贪心选择开始的最优解

#### 2

进一步，在作了贪心选择后，也即我们装入了所有物品1后，原问题就转化为了对剩余大小为$$W-x_1w_1$$空间的背包中装入物品2~物品n，让总价值最高的子问题。

也即若A是原问题的一个最优解，则A'=A-{$$x_1w_1物品1$$}是分数背包问题E'的一个最优解。

事实上，我们不妨假设存在E'的一个解B'，它的总价值比A'更高。那么我们就可以将物品1全部装入B'中，这样就可以得到E的一个解B，它的总价值就会比A还要高，这就和A的最优性矛盾了。

因此，**每一步所做的贪心选择都将问题简化为一个更小的与原问题具有相同形式的子问题**。

对贪心选择用数学归纳法可知，算法GreedyKnapsack对于给定的背包问题实例生成一个最优解